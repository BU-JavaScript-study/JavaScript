# 2021.01.21 자바스크립트 스터디 발표 자료

### **바닐라JS - 계산기**

<br>

#### **다시 생각해봐야 할 부분**

<br>

1. 중앙 정렬
   <br>

아래의 이미지와 같이 css - position: absolute;, top: 50%, left: 50% 값을 주어서 가운데 정렬이 되었다고 생각하지만 div 태그라면 시작점이 기준이므로 완전한 가운데 정렬이 이루어지지 않는다.

![translate 미적용 시](./image/01_21_1.PNG)

그러므로 사각형이 가운데에 오기 위해서는 transform: translate(-50%, -50%);을 설정해주어야 한다.

![translate 적용 시](./image/01_21_2.PNG)

<br>

2. Array.from - forEach 활용법

<br>

Array.from과 forEach 의 활용법은 지금 소개하는 방법 이외에도 훨씬 많이 있겠지만 처음으로 스스로 필요하다고 느꼈기 때문에 적게되었다.

우선 아래의 html 코드 처럼 같은 클래스를 가지고 있는 여러개의 동일한 태그이고, 모두 이벤트 리스너를 선언해주어 할때 필요하다고 느꼈다. 하나하나 이벤트 리스너 코드를 작성하게 된다면 의미없이 코드가 너무 길어지기 때문이다.

```html
        <div class="cal-container">
            <input type="text">
            <button class="reset">C</button>
            <button class="number" id="jsNum">7</button>
            <button class="number" id="jsNum">8</button>
            <button class="number" id="jsNum">9</button>
            <button class="operate" id="jsOperate">+</button>
            <button class="number" id="jsNum">4</button>
            <button class="number" id="jsNum">5</button>
            <button class="number" id="jsNum">6</button>
            <button class="operate" id="jsOperate">-</button>
            <button class="number" id="jsNum">1</button>
            <button class="number" id="jsNum">2</button>
            <button class="number" id="jsNum">3</button>
            <button class="operate" id="jsOperate">*</button>
            <button class="number zero" id="jsNum">0</button>
            <button class="number enter">=</button>
            <button class="operate" id="jsOperate">/</button>
        </div>
    </div>
```

<br>

그래서 우선 아래의 js 코드 처럼 querySelectorAll 로 같은 클래스의 여러 개의 버튼을 object로 받아왔다.

```js
const input = document.querySelector("input");
const number = document.querySelectorAll("#jsNum");
const operate = document.querySelectorAll("#jsOperate");
const reset = document.querySelector(".reset");
const enter = document.querySelector(".enter");
```

<br>

querySelectorAll로 받아온 object는 배열(Array)이 아니기 때문에 forEach를 사용해서 간편하게 이벤트 리스너를 등록할 수가 없다. 그래서 Array.from()을 선택하였다.

```js
function init() {
  Array.from(number).forEach((numberArray) => {
    numberArray.addEventListener("click", clickNumber);
  });

  Array.from(operate).forEach((operateArray) => {
    operateArray.addEventListener("click", clickOperate);
  });

  reset.addEventListener("click", clickReset);
  enter.addEventListener("click", clickEnter);
}

init();
```

<br>

위의 코드처럼 Array.from()을 통해 배열로 형을 바꿔준 뒤 forEach를 통해 각 인덱스 원소들에게 이벤트 리스너를 손쉽게 등록하였다.

자세한 계산기 코드는 [클릭](https://github.com/JhsK/JS-Calculator)
